(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{34:function(e,t,n){},63:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(23),s=n.n(c),i=n(8),o=n(15),l=n(1),u=function(e){var t=e.children;return Object(l.jsxs)("div",{className:"container",children:[" ",t," "]})},d=n(10),j=function(){return Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbar-nav",children:Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(d.c,{to:"/",className:"nav-link",children:"Home"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(d.c,{to:"/patients",className:"nav-link",children:"Patients"})})]})})},b=function(){return Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(l.jsx)(j,{})})})},p=n(5),m=n(3),O=n.n(m),f=n(7),h="GET_DOCTORS",v="GET_VIEWING_DOCTOR",x="SET_VIEWING_DOCTOR",y="UPDATE_DOCTOR",g="CREATE_DOCTOR",N="DELETE_DOCTOR",E="GET_PATIENTS",T="GET_VIEWING_PATIENT",P="SET_VIEWING_PATIENT",_="UPDATE_PATIENT",S="CREATE_PATIENT",w="DELETE_PATIENT",I="GET_NURSES",A="GET_VIEWING_NURSE",k="SET_VIEWING_NURSE",C="UPDATE_NURSE",D="CREATE_NURSE",R="DELETE_NURSE",U="GET_HOSPITAL",G="UPDATE_HOSPITAL",F="GET_USER_ADMINS",L="GET_VIEWING_USER_ADMIN",q="UPDATE_USER_ADMIN",W="CREATE_USER_ADMIN",V="DELETE_USER_ADMIN",B=8888;function M(e,t,n){var a=e;(void 0===e||isNaN(e)||Number(e)<1024)&&(a=8888);var r="ws://localhost:"+Number(a),c=new WebSocket(r);c.addEventListener("open",(function(e){c.send(t)})),c.addEventListener("message",(function(e){try{var t=JSON.parse(e.data);t.hasOwnProperty("msg")?n(t):n("Return parameter needs to have a property 'msg' that contains the returned objects.")}catch(a){console.log(a),n("WebSocket parsing error. Is your return value valid JSON?")}})),c.onerror=function(e){console.log("[error] WebSocket error",e),n("WebSocket connection error.")},c.onclose=function(e){e.wasClean?console.log("[close] Connection closed cleanly, code=".concat(e.code," reason=").concat(e.reason)):console.log("[close] Connection died")}}var J={getPatients:function(e){return new Promise((function(t){return M(e,'{"op":"readAll_patient", "data": {}}',(function(e){t(e.msg)}))}))},getPatient:function(e,t){return new Promise((function(n){return M(e,'{"op":"read_patient", "data": {"username": "'+t+'"}}',(function(e){n(e.msg)}))}))},updatePatient:function(e,t,n){var a=n;return a.username=t,new Promise((function(t){return M(e,'{"op":"update_patient", "data":'+JSON.stringify(a)+"}",(function(e){t(e)}))}))},deletePatient:function(e,t){return new Promise((function(n){return M(e,'{"op":"delete_patient", "data": {"username": "'+t+'"}}',(function(e){n(e)}))}))},createPatient:function(e,t){return new Promise((function(n){return M(e,'{"op":"create_patient", "data": '+JSON.stringify(t)+"}",(function(e){n(e)}))}))}},H=n(11),z=n.n(H),Y=function(){return function(){var e=Object(f.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.getPatients();case 3:n=e.sent,t(K(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),z.a.error("Bad request, please try loading again.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},K=function(e){return{type:E,payload:e}},Q=function(){var e=Object(p.c)((function(e){return e.patients})),t=Object(p.b)();return Object(a.useEffect)((function(){t(Y())}),[]),Object(l.jsx)("div",{children:"There are ".concat(e.length," patients!")})},X=function(){return Object(l.jsx)("div",{className:"homepage",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"General Overview"}),Object(l.jsx)("div",{className:"row"}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col col-md me-md-1 py-3 my-3 shadow border rounded-1",children:Object(l.jsx)(Q,{})})})]})})},Z=n(12),$=n(13),ee=n(22),te=n(26),ne=n(14),ae=function(e){var t=e.groupType,n=e.label,a=e.fieldType,r=e.pattern,c=e.minLen,s=e.typeOfForm,i=e.validate,o=e.required,u=Object(ne.c)(),d=u.register,j=u.errors;return Object(l.jsxs)($.a.Group,{as:te.a,controlId:"form".concat(s).concat(t),children:[Object(l.jsxs)($.a.Label,{column:!0,sm:3,children:[n,":"]}),Object(l.jsx)(ee.a,{sm:8,children:"false"!==o?Object(l.jsx)($.a.Control,{name:t,placeholder:"Enter new: ".concat(n),type:a,ref:d({required:"You must fill this!",minLength:{value:c,message:"".concat(n," It must be at least ").concat(c," characters long.")},pattern:{value:r,message:"Vinsamlegast sl\xe1\xf0u inn leyfilegt: ".concat(n,".")},validate:i})}):Object(l.jsx)($.a.Control,{name:t,placeholder:"Enter: ".concat(n,"..."),type:a,ref:d()})}),Object(l.jsx)(ee.a,{sm:4,children:j[t]&&Object(l.jsx)("p",{children:j[t].message})})]})},re=n(44),ce=function(e){var t=e.label,n=e.typeOfForm,a=(e.func,e.variant),r=void 0===a?"dark":a;return Object(l.jsx)($.a.Group,{as:te.a,controlId:"form".concat(n,"Button"),children:Object(l.jsx)(ee.a,{sm:{span:1,offset:6},children:Object(l.jsx)(re.a,{type:"submit",variant:r,children:t})})})},se=(n(34),function(e,t){return function(){var n=Object(f.a)(O.a.mark((function n(a){var r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J.getPatient(e,t);case 3:r=n.sent,a(ie(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),z.a.error("Bad request, please try loading again.");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}),ie=function(e){return{type:T,payload:e}},oe=function(e){return{type:_,payload:e}},le=function(e,t){return function(){var n=Object(f.a)(O.a.mark((function n(a){var r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J.deletePatient(e,t);case 3:r=n.sent,a(ue(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),z.a.error("Bad request, please try loading again.");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},ue=function(e){return{type:w,payload:e}},de=function(e){return{type:S,payload:e}},je=function(e){var t=e.patient,n=Object(p.b)(),r=Object(ne.b)(),c=Object(o.g)().id,s=Object(o.f)();Object(a.useEffect)((function(){r.setValue("name",null===t||void 0===t?void 0:t.name),r.setValue("email",null===t||void 0===t?void 0:t.email),r.setValue("note",null===t||void 0===t?void 0:t.note)}),[t]);return Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ne.a,Object(Z.a)(Object(Z.a)({},r),{},{children:Object(l.jsxs)($.a,{onSubmit:r.handleSubmit((function(e){var a=Object(Z.a)(Object(Z.a)({},t),{},{name:""===e.name?null:e.name,email:""===e.email?null:e.email,note:""===e.note?null:e.note});n(function(e,t,n){return function(){var a=Object(f.a)(O.a.mark((function a(r){var c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,J.updatePatient(e,t,n);case 3:c=a.sent,r(oe(c)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),z.a.error("Bad request, please try loading again.");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(B,c,a)),s.push("/patients")})),className:"form form-horizontal",children:[Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ae,{groupType:"name",label:"Name",fieldType:"text",typeOfForm:"UpdatePatient",required:"false"})}),Object(l.jsx)("div",{children:Object(l.jsx)(ae,{groupType:"email",label:"Email",fieldType:"text",typeOfForm:"UpdatePatient",required:"false"})}),Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ae,{groupType:"note",label:"Note",fieldType:"text",typeOfForm:"UpdatePatient",required:"false"})}),Object(l.jsx)("div",{className:"my-2 col-md-6",children:Object(l.jsx)(ce,{label:"Update",typeOfForm:"UpdatePatient",variant:"primary"})})]})}))})},be=function(){var e=Object(o.g)().id,t=Object(p.c)((function(e){return e.patient})),n=Object(p.b)();Object(a.useEffect)((function(){n(se(B,e))}),[e]);return Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"",children:Object(l.jsx)(je,{patient:t})}),Object(l.jsxs)("div",{className:"row p-4 m-4",children:[Object(l.jsx)(d.b,{to:"/patients",children:Object(l.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){n(le(B,e))},children:"Delete Patient"})}),";"]})]})},pe=n(27),me=function(e){var t=e.patient;return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:t.username}),Object(l.jsx)("td",{children:t.name}),Object(l.jsx)("td",{children:t.email}),Object(l.jsx)("td",{children:t.note}),Object(l.jsx)("td",{children:Object(l.jsx)(d.b,{to:"/patients/".concat(t.username),children:Object(l.jsx)(pe.a,{size:"1.5em"})})})]},t.username)},Oe=function(){var e=Object(p.c)((function(e){return e.patients})),t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(p.b)();return Object(a.useEffect)((function(){s(Y())}),[]),Object(a.useEffect)((function(){c(e)}),[e]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"table",children:[Object(l.jsxs)("table",{className:"table table-bordered",children:[Object(l.jsx)("thead",{className:"thead-dark",children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Username"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Email"}),Object(l.jsx)("th",{children:"Note"})]})}),Object(l.jsx)("tbody",{children:r.length>0?r.map((function(e){return Object(l.jsx)(me,{patient:e},e.username)})):null})]}),e.length<=0?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsx)("div",{className:"spinner-border",role:"status"}),Object(l.jsx)("div",{className:"sr-only",children:"Loading..."})]})}):null]}),Object(l.jsx)(d.b,{to:"/patients/create",children:Object(l.jsx)("button",{className:"btn btn-outline-primary text-left",children:"Create Patient"})})]})},fe=function(){var e=Object(p.b)(),t=Object(ne.b)(),n=Object(o.f)();Object(a.useEffect)((function(){}),[]);return Object(l.jsxs)("div",{className:"my-2",children:[Object(l.jsx)("h1",{className:"createNew",children:"Create Patient"}),Object(l.jsx)(ne.a,Object(Z.a)(Object(Z.a)({},t),{},{children:Object(l.jsxs)($.a,{onSubmit:t.handleSubmit((function(t){var a={name:""===t.name?null:t.name,note:""===t.note?null:t.note,email:""===t.email?null:t.email,username:""===t.username?"defaultUsername":t.email.split("@")[0]};e(function(e,t){return function(){var n=Object(f.a)(O.a.mark((function n(a){var r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J.createPatient(e,t);case 3:r=n.sent,a(de(r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),z.a.error("Bad request, please try loading again.");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(B,a)),n.push("/patients")})),className:"form form-horizontal",children:[Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ae,{groupType:"name",label:"Name",fieldType:"text",typeOfForm:"CreatePatient",required:"true"})}),Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ae,{groupType:"email",label:"Email",fieldType:"text",typeOfForm:"CreatePatient",required:"true"})}),Object(l.jsx)("div",{className:"my-2",children:Object(l.jsx)(ae,{groupType:"note",label:"Note",fieldType:"text",typeOfForm:"CreatePatient",required:"true"})}),Object(l.jsx)("div",{className:"mx-auto",children:Object(l.jsx)(ce,{label:"Save",typeOfForm:"CreatePatient",variant:"primary"})})]})}))]})},he=function(){return Object(l.jsxs)("div",{className:"notfound",children:[Object(l.jsx)("h1",{children:"404 Not Found"}),Object(l.jsx)(d.c,{exact:!0,to:"/",className:"navigation-link",children:"Go back to Homepage"})]})},ve=(n(69),n(70),n(63),function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2);t[0],t[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{}),Object(l.jsx)(u,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:X}),Object(l.jsx)(o.a,{exact:!0,path:"/patients",component:Oe}),Object(l.jsx)(o.a,{exact:!0,path:"/patients/create",component:fe}),Object(l.jsx)(o.a,{path:"/patients/:id",component:be}),Object(l.jsx)(o.a,{path:"*",component:he})]})})]})}),xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},ye=n(28),ge=n(42),Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===h?t.payload:e},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===I?t.payload:e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===E?t.payload:e},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===F?t.payload:e},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{},deleted:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case x:case g:case y:case N:return t.payload;default:return e}},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{},deleted:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case k:case D:case C:case R:return t.payload;default:return e}},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{},deleted:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:case P:case S:case _:case w:return t.payload;default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{},deleted:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:case W:case q:case V:return t.payload;default:return e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{msg:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:case G:return t.payload;default:return e}},ke=Object(ye.combineReducers)({doctor:_e,nurse:Se,patient:we,userAdmin:Ie,doctors:Ne,patients:Te,nurses:Ee,userAdmins:Pe,hospital:Ae}),Ce=n(43);n(64),n(65);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(p.a,{store:Object(ye.createStore)(ke,Object(ge.composeWithDevTools)(Object(ye.applyMiddleware)(Ce.a))),children:Object(l.jsx)(d.a,{children:Object(l.jsx)(ve,{})})})}),document.getElementById("root")),xe()}},[[66,1,2]]]);
//# sourceMappingURL=main.acf7bb60.chunk.js.map